name: Ubuntu test

on:
  - workflow_dispatch

jobs:
  test:
    name: Ubuntu test
    runs-on: ubuntu-latest
    steps:    
      - name: ulimit 1
        run: |
          sudo prlimit --pid $$ --nofile=1048576:1048576 
          ulimit -a
          
      - name: ulimit 2
        run: |
          sudo prlimit --pid $$ --nproc=128391
          ulimit -a
          
      - name: ulimit 3
        run: |
          sudo prlimit --pid $$ --nofile=1048576:1048576 --nproc=128391
          ulimit -a

      - name: ulimit 3
        run: |
          prlimit
